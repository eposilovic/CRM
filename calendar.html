<!DOCTYPE html>
<html>
<head>
    <title>IDB CRM - Calendar</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0 user-scalable=no;”" />
    <link rel="icon" type="image/x-icon" href="img/favicon.ico">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/combine/npm/fullcalendar@5.11.0/main.min.css,npm/fullcalendar@5.11.0/main.min.css">
    <link rel="stylesheet" href="style/main.css">
    <link rel="stylesheet" href="style/networks-list-style.css">

<body>
    <aside class="main-sidebar">
        <div class="sidebar-container">
            <nav>
                <ul>
                    <li><a href="#_" title="Networks"><ion-icon name="globe-outline"></ion-icon><span class="sidebar-title">Networks</span></a></li>
                    <li><a href="#_" title="My Work"><ion-icon name="briefcase-outline"></ion-icon><span class="sidebar-title">My Work</span></a></li>
                    <li><a href="#_" title="My Meetings"><ion-icon name="calendar-outline"></ion-icon><span class="sidebar-title">My Meetings</span></a></li>
                    <li><a href="#_" title="My Contacts"><ion-icon name="library-outline"></ion-icon><span class="sidebar-title">My Contacts</span></a></li>
                    <li><a href="#_" title="Markets"><ion-icon name="storefront-outline"></ion-icon><span class="sidebar-title">Markets</span></a></li>
                    <li><a href="#_" title="Organization"><ion-icon name="people-outline"></ion-icon><span class="sidebar-title">Organization <ion-icon name="chevron-down-outline"></ion-icon>
                        <!-- <ul>
                            <li>Operations</li>
                            <li>Marketing</li>
                        </ul> -->
                    </span></a></li>
                    <li><a href="#_" title="My Profile"><ion-icon name="people-outline"></ion-icon><span class="sidebar-title">My Profile</span></a></li>
                    <li class="collapse-sidebar"><a href="#_"><ion-icon name="play-skip-back-outline"></ion-icon></a></li>
                </ul>
            </nav>
        </div>
    </aside>
    <header class="main-header">
        <div class="logo-container">
            <a href="#_">
                <img class="logo-img" src="img/logo.svg" alt="IDB CRM Logo">
            </a>
        </div>
        <div class="header-right">
            <div class="header-right-icons">
                <ul>
                   <li>
                       <a href="#_" title="Notifications"><span class="notification-counter">10</span><ion-icon name="notifications-outline"></ion-icon></a>
                       <div class="notification-dropdown">
                           <ul>
                               <li><a href="#"><ion-icon name="calendar-outline"></ion-icon>Meeting #1
                                <span class="notification-desc">Meeting description</span></a>
                               </li>
                               <li><a href="#"><ion-icon name="reader-outline"></ion-icon>Task #1
                                <span class="notification-desc">Task description - This time a longer one</span></a>    
                                </li>
                               <li><a href="#"><ion-icon name="reader-outline"></ion-icon>Task #2
                                <span class="notification-desc">Task description</span></a>
                            </li>
                               <li><a href="#"><ion-icon name="calendar-outline"></ion-icon>Meeting #2
                                <span class="notification-desc">Meeting description</span></a>
                            </li>
                               <li><a href="#"><ion-icon name="calendar-outline"></ion-icon>Meeting #3
                                <span class="notification-desc">Meeting description</span></a>
                        </li>
                               <li><a href="#"><ion-icon name="calendar-outline"></ion-icon>Meeting #4
                                <span class="notification-desc">Meeting description</span></a>
                        </li>
                               <li><a href="#"><ion-icon name="calendar-outline"></ion-icon>Meeting #5
                                <span class="notification-desc">Meeting description</span></a>
                        </li>
                               <li><a href="#"><ion-icon name="reader-outline"></ion-icon>Task #3
                                <span class="notification-desc">Task description</span></a>
                        </li>
                               <li><a href="#"><ion-icon name="calendar-outline"></ion-icon>Meeting #6
                                <span class="notification-desc">Meeting description</span></a>
                        </li>
                               <li><a href="#"><ion-icon name="reader-outline"></ion-icon>Task #4
                                <span class="notification-desc">Task description</span></a>
                        </li>
                           </ul>
                           <button>View All</button>
                       </div>
                   </li>
                   <li class="create-task-button"><a href="#_"><ion-icon name="add-outline"></ion-icon>Create Task</a></li>
                   <li class="li-profile-img"><a href="#_">Ime Prezime <img class="header-profile-pic" src="img/profile-pic.jpg" alt=""></a>
                        <div class="profile-dropdown">
                            <a href="#_"><ion-icon name="person-outline"></ion-icon> My Profile</a> 
                            <a href="#_"><ion-icon name="options-outline"></ion-icon> Panel</a>
                            <a href="#_"><ion-icon name="settings-outline"></ion-icon> Settings</a>
                            <a href="#_"><ion-icon name="exit-outline"></ion-icon> Logout</a>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </header>
    
    <main>
        <div class="main-container">
            <!-- <h1>Operations - Calendar</h1> -->
            <div id="calendar_wrap">
                <div id='calendar'></div>
            </div>
            <footer><hr>Copyright © 2022 <b>IDB Mobile Technology</b></footer>
        </div>
    </main>
    
    <script src="https://cdn.jsdelivr.net/combine/npm/fullcalendar@5.11.0,npm/fullcalendar@5.11.0/locales-all.min.js,npm/fullcalendar@5.11.0/locales-all.min.js,npm/fullcalendar@5.11.0/main.min.js"></script>
    <script src='https://cdn.jsdelivr.net/npm/moment@2.27.0/min/moment.min.js'></script>
    <script src='https://cdn.jsdelivr.net/npm/@fullcalendar/moment@5.5.0/main.global.min.js'></script>

    <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
    <script src="js/networks-list-filter.js"></script>
    <script src="js/responsive.js"></script>
    
    <script>
        // CALENDAR INITIALIZATION CODE
        document.addEventListener('DOMContentLoaded', function() {
          var calendarEl = document.getElementById('calendar');
          var calendar = new FullCalendar.Calendar(calendarEl, {
            headerToolbar: {
                center: 'timeGrid,dayGridMonth',  
                left: 'myCustomButton'
            },
            customButtons: {
                myCustomButton: {
                    text: 'Add Meeting',
                        click: function() {
                            var dateStr = prompt('Enter a date in YYYY-MM-DD format');
                            var date = new Date(dateStr); // will be in local time
                            var title = prompt('Enter meeting title');
                            if (!isNaN(date.valueOf())) { // valid?
                                calendar.addEvent({
                                title: title,
                                start: date,
                                allDay: true, 
                            });
                            alert('Great. Now, update your database...');
                            } else {
                            alert('Invalid date.');
                            }
                    }
                }
            },
            
            events: [
                {
                    title: 'Meeting #1',
                    start: '2022-05-03T12:30:00', 
                    end: '2022-05-03T13:30:00',
                    eventContent: 'some text', 
                },
                {
                    title: 'Meeting #2',
                    start: '2022-05-04T09:30:00', 
                    end: '2022-05-04T10:00:00',
                },
                {
                    title: 'Meeting #3',
                    start: '2022-05-05T15:30:00', 
                    end: '2022-05-05T16:00:00',
                },
                {
                    title: 'Meeting #4',
                    start: '2022-05-06T17:00:00', 
                    end: '2022-05-06T17:30:00',
                }
            ],

            initialView: 'timeGrid',
            duration: { days: 7},
            slotMinTime: "07:00:00", 
            slotMaxTime: "19:00:00",
            height: "auto", 
            firstDay: "1",
            dateAlignment: "week", 
            weekends: false,
            navLinks: true,
            nowIndicator: true,
            dayHeaderFormat: {
                weekday: 'short', 
                month: '2-digit', 
                day: '2-digit',
                omitCommas: true,
            },
            dayHeaderFormat: 'dddd DD/MM',
            titleFormat : "DD/MMMM",
            slotLabelFormat: {
                hour12:false,
                hour: 'numeric',
                minute: '2-digit',
            },
            buttonText: {
                month: 'Month',
                timeGrid: 'Week'
            }, 
            selectable: true,
          });
          calendar.render();
        });
      </script>

    <script>
        //COLLAPSE SIDEBAR
        $(".collapse-sidebar").on("click", function(){
            $(".main-sidebar").toggleClass("collapsed-sidebar");
            $(".sidebar-title").delay(50).toggle(0);
            $(".main-container").toggleClass("collapsed-main");
            $(".collapse-sidebar ion-icon").toggleClass("rotate");
        });
    </script>
    <script>
        //PROFILE DROPDOWN
        $(".li-profile-img").on("click", function(){
            $(".profile-dropdown").slideToggle(200);
            $(".notification-dropdown").slideUp(200);
        });
    </script>
    <script>
        //NOTIFICATION DROPDOWN
        $(".header-right-icons ul li:first-child").on("click", function(){
            $(".notification-dropdown").slideToggle(200);
            $(".profile-dropdown").slideUp(200);
        });
    </script>
    <script>
        //CLICK OUTSIDE CLOSE DROPDOWN
        $(".main-container").on("click", function(){
            $(".notification-dropdown").slideUp(200);
            $(".profile-dropdown").slideUp(200);
        });
    </script>
</body>
</head>
</html>